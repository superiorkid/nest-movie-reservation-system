<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Payment Successful - Your Reservation Details</title>
  <style>
    body { font-family: Arial, sans-serif; color: #333; }
    .container { max-width: 600px; margin: auto; padding: 20px; }
    .header { background: #4CAF50; color: white; padding: 10px; text-align: center; }
    .content { margin-top: 20px; }
    .footer { margin-top: 30px; font-size: 0.9em; color: #666; text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { padding: 8px; border-bottom: 1px solid #ddd; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Payment Successful ðŸŽ‰</h1>
    </div>
    <div class="content">
      <p>Hi <%= locals.user.name %>,</p>
      <p>Thank you for your payment! Your reservation has been confirmed. Here are the details:</p>

      <h3>Reservation Details:</h3>
      <table>
        <tr>
          <th>Movie</th>
          <td><%= locals.showtime.movie.title %></td>
        </tr>
        <tr>
          <th>Theater</th>
          <td><%= locals.showtime.theater.name %></td>
        </tr>
        <tr>
          <th>Showtime</th>
          <td><%= locals.showtime.startTime.toLocaleString() %></td>
        </tr>
        <tr>
          <th>Seats</th>
          <td>
            <% locals.seatReservations.forEach((seat, index) => { %>
              <%= seat.seat.name %><%= index !== seatReservations.length - 1 ? ', ' : '' %>
            <% }); %>
          </td>
        </tr>
      </table>

      <p>If you have any questions, feel free to contact us.</p>
      <p>Enjoy your show!</p>
    </div>
    <div class="footer">
      &copy; <%= new Date().getFullYear() %> Your Company. All rights reserved.
    </div>
  </div>
</body>
</html>
